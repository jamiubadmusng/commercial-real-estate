# Commercial Real Estate: Property Valuation and Market Trends

[![Python](https://img.shields.io/badge/Python-3.10+-3776AB?style=flat&logo=python&logoColor=white)](https://python.org)
[![Jupyter](https://img.shields.io/badge/Jupyter-Notebook-F37626?style=flat&logo=jupyter&logoColor=white)](https://jupyter.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Completed-success.svg)]()

## Analyzing and Forecasting Commercial Property Value Trends in Philadelphia

**Author:** Jamiu Olamilekan Badmus  
ğŸ“§ [jamiubadmus001@gmail.com](mailto:jamiubadmus001@gmail.com)  
ğŸ”— [GitHub](https://github.com/jamiubadmusng) | [LinkedIn](https://www.linkedin.com/in/jamiu-olamilekan-badmus-9276a8192/) | [Website](https://sites.google.com/view/jamiu-olamilekan-badmus/)

---

## ğŸ“‹ Executive Summary

This project analyzes commercial real estate valuation trends in Philadelphia using the city's comprehensive open property assessment data. In the post-pandemic era, commercial real estate faces unprecedented challenges:

- **Office vacancies** reached record highs (~19.6% in the U.S. in Q1 2025) due to hybrid work adoption
- **Office property values** dropped ~14% in 2024 with further declines expected
- **Rising vacancy rates** and declining values increase default risks on commercial mortgages

### Key Findings

| Metric | Value |
|--------|-------|
| Properties Analyzed | 74,550+ |
| Assessment Records | 870,000+ |
| Time Period | 2013-2026 |
| Best Classification ROC-AUC | 92.46% (Gradient Boosting) |
| Best Regression RÂ² | 98.75% (Random Forest) |
| Regression MAPE | 2.5% |

---

## ğŸ¯ Project Objectives

1. **Analyze Market Trends**: Examine how commercial property valuations have evolved over 13+ years
2. **Quantify COVID-19 Impact**: Measure value changes across different property types (office, retail, industrial)
3. **Build Predictive Models**: Develop classification and regression models for property value forecasting
4. **Identify Risk Factors**: Determine key predictors of property value decline
5. **Provide Actionable Insights**: Create recommendations for investors and city planners

---

## ğŸ“Š Dataset

### Source
[Philadelphia Properties and Assessment History](https://catalog.data.gov/dataset/philadelphia-properties-and-assessment-history) - City of Philadelphia Open Data Portal

### Files
| File | Description | Size | Records |
|------|-------------|------|---------|
| `opa_properties_public.csv` | Property characteristics (location, size, zoning, etc.) | ~292 MB | 583,566 |
| `assessments.csv` | Historical assessment values by year | ~438 MB | 6,915,605 |

### Key Features
- **Property Attributes**: Building code, category, total area, year built, stories, zoning
- **Location Data**: ZIP code, geographic ward, census tract, coordinates
- **Assessment History**: Annual market values from 2013-2026
- **Classification**: Category codes for filtering commercial vs residential properties

> **Note:** Large data files (~900 MB total) are not included in the repository. The notebook automatically downloads them from the Philadelphia Open Data Portal when run for the first time.

---

## ğŸ—ï¸ Project Structure

```
commercial-real-estate/
â”œâ”€â”€ README.md                          # Project overview (this file)
â”œâ”€â”€ LICENSE                            # MIT License
â”œâ”€â”€ requirements.txt                   # Python dependencies
â”œâ”€â”€ .gitignore                         # Git ignore rules
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/                          # Original datasets (download separately)
â”‚   â”‚   â”œâ”€â”€ opa_properties_public.csv # ~291 MB - auto-downloaded by notebook
â”‚   â”‚   â””â”€â”€ assessments.csv           # ~438 MB - auto-downloaded by notebook
â”‚   â””â”€â”€ processed/                    # Generated by running notebook
â”‚       â””â”€â”€ commercial_properties_processed.csv  # ~173 MB
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ analysis_report.md            # Detailed analysis write-up
â”‚   â””â”€â”€ figures/                      # Generated visualizations
â”‚       â”œâ”€â”€ property_type_distribution.png
â”‚       â”œâ”€â”€ value_distribution.png
â”‚       â”œâ”€â”€ geographic_distribution.png
â”‚       â”œâ”€â”€ building_characteristics.png
â”‚       â”œâ”€â”€ correlation_matrix.png
â”‚       â”œâ”€â”€ market_trends.png
â”‚       â”œâ”€â”€ trends_by_type.png
â”‚       â”œâ”€â”€ covid_impact.png
â”‚       â”œâ”€â”€ decline_rate_by_type.png
â”‚       â”œâ”€â”€ model_comparison.png
â”‚       â”œâ”€â”€ best_model_evaluation.png
â”‚       â”œâ”€â”€ feature_importance.png
â”‚       â”œâ”€â”€ shap_importance.png
â”‚       â”œâ”€â”€ shap_beeswarm.png
â”‚       â””â”€â”€ regression_results.png
â”‚
â”œâ”€â”€ models/                           # Trained model artifacts
â”‚   â”œâ”€â”€ value_decline_classifier.joblib
â”‚   â”œâ”€â”€ property_value_regressor.joblib
â”‚   â”œâ”€â”€ scaler_classification.joblib
â”‚   â””â”€â”€ scaler_regression.joblib
â”‚
â”œâ”€â”€ notebooks/
â”‚   â””â”€â”€ commercial_property_analysis.ipynb  # Main analysis notebook
â”‚
â””â”€â”€ src/
    â””â”€â”€ predict_value.py              # Standalone prediction module
```

---

## ğŸ”¬ Methodology

### 1. Data Preparation
- Load and merge property characteristics with assessment history
- Filter for commercial properties using category codes (office, retail, industrial, mixed-use)
- Handle missing values and outliers
- Calculate year-over-year value changes

### 2. Exploratory Data Analysis
- Property type distribution and market share
- Geographic concentration of commercial real estate
- Building age and characteristics analysis
- Correlation analysis between features and property value

### 3. Time-Series Analysis
- Overall market value trends (2013-2026)
- Trends by property type (office, retail, industrial)
- COVID-19 impact analysis (pre-2020 vs post-2020)
- Value decline patterns and risk identification

### 4. Predictive Modeling

**Classification (Value Decline Prediction)**
| Model | Purpose |
|-------|---------|
| Logistic Regression | Baseline classifier |
| Random Forest | Ensemble method |
| Gradient Boosting | Sequential boosting |
| XGBoost | Optimized gradient boosting |
| LightGBM | Fast gradient boosting |

**Regression (Property Value Prediction)**
| Model | Purpose |
|-------|---------|
| Ridge Regression | Regularized linear model |
| Random Forest | Ensemble regressor |
| Gradient Boosting | Sequential boosting |
| XGBoost | Optimized regressor |
| LightGBM | Fast regressor |

### 5. Model Interpretability
- Feature importance analysis
- SHAP (SHapley Additive exPlanations) values
- Risk factor identification

---

## ğŸ“ˆ Key Results

### Market Trends
- Commercial property values showed consistent growth from 2013-2019
- COVID-19 pandemic caused significant disruption in 2020-2022
- Office and retail sectors most affected by pandemic-related changes
- Industrial properties demonstrated resilience

### COVID-19 Impact by Property Type
| Property Type | Value Change (Pre vs Post COVID) |
|---------------|----------------------------------|
| Office | See analysis results |
| Retail | See analysis results |
| Industrial | See analysis results |
| Mixed Use | See analysis results |

### Model Performance
- Classification models effectively predict properties at risk of value decline
- Regression models provide accurate property value estimates
- SHAP analysis reveals interpretable risk factors

---

## ğŸ’¼ Business Applications

### Risk Assessment Framework
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  RISK LEVEL    â”‚  DECLINE PROBABILITY  â”‚  RECOMMENDED ACTION      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Very High     â”‚  > 60%                â”‚  Divest / Restructure    â•‘
â•‘  High          â”‚  40-60%               â”‚  Active Monitoring       â•‘
â•‘  Medium        â”‚  20-40%               â”‚  Standard Review         â•‘
â•‘  Low           â”‚  < 20%                â”‚  Maintain Position       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Use Cases
1. **Investors**: Identify undervalued properties and assess portfolio risk
2. **Lenders**: Evaluate collateral risk for commercial mortgages
3. **City Planners**: Understand neighborhood-level commercial trends
4. **Property Managers**: Prioritize capital improvements

---

## ğŸš€ Getting Started

### Prerequisites
- Python 3.10+
- Jupyter Notebook or JupyterLab

### Installation

```bash
# Clone the repository
git clone https://github.com/jamiubadmusng/commercial-real-estate.git
cd commercial-real-estate

# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

### Usage

```bash
# Run the analysis notebook
jupyter notebook notebooks/commercial_property_analysis.ipynb

# Or use the prediction module
python src/predict_value.py --parcel_number "123456789"
```

---

## ğŸ“¦ Dependencies

```
pandas>=2.0.0
numpy>=1.24.0
matplotlib>=3.7.0
seaborn>=0.12.0
scikit-learn>=1.3.0
xgboost>=2.0.0
lightgbm>=4.0.0
shap>=0.42.0
scipy>=1.11.0
joblib>=1.3.0
```

---

## ğŸ“š References

1. Philadelphia Properties and Assessment History - [Catalog.data.gov](https://catalog.data.gov/dataset/philadelphia-properties-and-assessment-history)
2. Commercial & Office Real Estate Statistics for 2025 - [The Kaplan Group](https://www.kaplancollectionagency.com/business-advice/52-commercial-office-real-estate-statistics-for-2025/)
3. SHAP (SHapley Additive exPlanations) - [GitHub](https://github.com/slundberg/shap)

---

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ¤ Contact

**Jamiu Olamilekan Badmus**

- ğŸ“§ Email: [jamiubadmus001@gmail.com](mailto:jamiubadmus001@gmail.com)
- ğŸ™ GitHub: [github.com/jamiubadmusng](https://github.com/jamiubadmusng)
- ğŸ’¼ LinkedIn: [linkedin.com/in/jamiu-olamilekan-badmus-9276a8192](https://www.linkedin.com/in/jamiu-olamilekan-badmus-9276a8192/)
- ğŸŒ Website: [sites.google.com/view/jamiu-olamilekan-badmus](https://sites.google.com/view/jamiu-olamilekan-badmus/)

